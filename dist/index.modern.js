import e from"ajv";var t=(t,r)=>{const o=new e({jsonPointers:!0,$data:!0}).compile(t);o(r);const{errors:n}=o;return n&&(e=>e.map(e=>e.message).join(", "))(n)},r=(e,t)=>{const r=e||{validate:()=>({})},{error:o}=r.validate(t);return o&&o.message};class o extends Error{}var n=Object.freeze({JOI:"joi",AJV:"ajv"});class s{constructor({engine:e=n.JOI,strict:s=!1,extend:i={}}={}){return Object.assign(this,{engine:e,strict:s,extend:i}),(({extend:e,strict:n,engine:s})=>i=>{const{_modules:a,_modulesNamespaceMap:c}=i;i.subscribe(({type:d,payload:u})=>{const l=((e,o)=>{const n={ajv:t,joi:r,...o};if(Object.keys(n).includes(e))return n[e];throw new Error(`Validation Engine for "${e}" not found.`)})(s,e)(((e,t)=>{const r=e.split("/"),s=r.pop(),d=(e=>{let t=e;return t&&"/"!==e.charAt(e.length-1)&&(t+="/"),c[t]})(r.join("/")),{rules:u={}}=(d||a.root)._rawModule,l=u[s];if(n&&!l)throw new o("[Strict Mode] Rules are not defined for: "+e);return"function"==typeof l?l(i,t):l})(d,u),u);if(l)throw new o(`${l} for mutation: ${d}`)})})(this)}}window.Vue&&(window.VuexStoreValidator=s);const i=n;export default s;export{i as ENGINE};
//# sourceMappingURL=index.modern.js.map
