!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("ajv"),require("superstruct")):"function"==typeof define&&define.amd?define(["exports","ajv","superstruct"],t):t((e=e||self).vuexStoreValidator={},e.ajv,e.superstruct)}(this,function(e,t,r){t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var n=(e,r)=>{const n=new t({jsonPointers:!0,$data:!0}).compile(e||{});n(r);const{errors:o}=n;return o&&(e=>e.map(e=>e.message).join(", "))(o)},o=(e,t)=>{const r=e||{validate:()=>({})},{error:n}=r.validate(t);return n&&n.message},s=(e,t)=>{let n=null;try{r.assert(t,e||r.any())}catch({message:e}){n=e}return n};class a extends Error{}var i=Object.freeze({JOI:"joi",AJV:"ajv",SUPERSTRUCT:"superstruct"});class u{constructor({engine:e=i.JOI,strict:t=!1,extend:r={}}={}){return Object.assign(this,{engine:e,strict:t,extend:r}),(({extend:e,strict:t,engine:r})=>i=>{const{_modules:u,_modulesNamespaceMap:c}=i;i.subscribe(({type:d,payload:l})=>{const f=((e,t)=>{const r={ajv:n,joi:o,superstruct:s,...t};if(Object.keys(r).includes(e))return r[e];throw new Error(`Validation Engine for "${e}" not found.`)})(r,e)(((e,r)=>{const n=e.split("/"),o=n.pop(),s=(e=>{let t=e;return t&&"/"!==e.charAt(e.length-1)&&(t+="/"),c[t]})(n.join("/")),{rules:d={}}=(s||u.root)._rawModule,l=d[o];if(t&&!l)throw new a("[Strict Mode] Rules are not defined for: "+e);return"function"==typeof l?l(i,r):l})(d,l),l);if(f)throw new a(`${f} for mutation: ${d}`)})})(this)}}window.Vue&&(window.VuexStoreValidator=u),e.ENGINE=i,e.default=u});
//# sourceMappingURL=index.umd.js.map
